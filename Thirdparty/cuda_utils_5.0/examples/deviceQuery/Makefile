###############################################################################
###############################################################################
TOPDIR := ../..

#inclue system configure
include $(TOPDIR)/make.conf

###############################################################################
###############################################################################

CFLAGS             += -I$(TOPDIR)/inc
CUFLAGS            += -I$(TOPDIR)/inc


###############################################################################
###############################################################################

cu_src              = 
cpp_src             = deviceQuery.cpp
target_obj          = $(patsubst %.cpp,%.o,$(cpp_src)) $(patsubst %.cu,%.o,$(cu_src))
exe_target          = deviceQuery


###############################################################################
###############################################################################

target : $(exe_target)


# Standard code
%.o : %.cpp
	$(CXX) -c $? -o $(@) $(CFLAGS) 

%.o : %.cu
	$(CUDA_NVCC) -c $? -o $(@) $(CUFLAGS) 


$(exe_target) : $(target_obj)
	$(CUDA_NVCC) -o $@ $(LDFLAGS) $(target_obj)

clean:
	rm -f *.o $(exe_target)
	
